<div style="margin-top: 50px; padding: 40px;">
    <nz-spin [nzSpinning]="isSpinning" [nzSize]="'large'" nzTip="Working...">
        <div class="flex flex-col items-center">
            <h1 class="text-xl font-bold text-gray-800 mb-4 text-center">Recherche Avance</h1>

            <form nz-form [formGroup]="searchCarForm">
                <div>
                    <nz-form-item>
                        <nz-form-control nzHasFeedback [nzXs]="24" nzErrorTip="This Input Is Required">
                            <nz-select formControlName="brand" nzShowSearch nzAllowClear nzPlaceHolder="Select a Brand">
                                <nz-option *ngFor="let brand of listOfBrands" nzLabel="{{brand}}"
                                    nzValue="{{brand}}"></nz-option>
                            </nz-select>
                        </nz-form-control>
                    </nz-form-item>
                </div>

                <div>
                    <nz-form-item>
                        <nz-form-control nzHasFeedback [nzXs]="24" nzErrorTip="This Input Is Required">
                            <nz-select formControlName="type" nzShowSearch nzAllowClear nzPlaceHolder="Select a Type">
                                <nz-option *ngFor="let type of listOfType" nzLabel="{{type}}"
                                    nzValue="{{type}}"></nz-option>
                            </nz-select>
                        </nz-form-control>
                    </nz-form-item>
                </div>

                <div>
                    <nz-form-item>
                        <nz-form-control nzHasFeedback [nzXs]="24" nzErrorTip="This Input Is Required">
                            <nz-select formControlName="transmission" nzShowSearch nzAllowClear
                                nzPlaceHolder="Select a Transmission">
                                <nz-option *ngFor="let transmission of listOfTransmission" nzLabel="{{transmission}}"
                                    nzValue="{{transmission}}"></nz-option>
                            </nz-select>
                        </nz-form-control>
                    </nz-form-item>
                </div>

                <div>
                    <nz-form-item>
                        <nz-form-control nzHasFeedback [nzXs]="24" nzErrorTip="This Input Is Required">
                            <nz-select formControlName="color" nzShowSearch nzAllowClear nzPlaceHolder="Select a Color">
                                <nz-option *ngFor="let color of listOfColor" nzLabel="{{color}}"
                                    nzValue="{{color}}"></nz-option>
                            </nz-select>
                        </nz-form-control>
                    </nz-form-item>
                </div>

                <button nz-button class="login-form-button login-form-margin w-full" [nzType]="'primary'"
                    (click)="searchCar()">
                    Search
                </button>
            </form>
        </div>
    </nz-spin>
</div>

<div style="margin-top: 10px;" class="child" *ngFor="let car of cars">
    <div nz-row>
        <div nz-col nzSpan="8">
            <img class="profile" style="height: 130px; width: 200px; border-radius: 10px;" [src]="car.processedImg" alt="profile"/>
        </div>
        <div nz-col nzSpan="16">
            <h2 style="cursor: pointer; color: #108ee9;">
                {{car.brand}} - {{car.name}}
            </h2>
            <p>{{car.description}}</p>

            <hr>
            <h5>Prix : <b>{{car.price}}MDT</b> - Couleur : <b>{{car.color}}</b> - transmission : 
                <b>{{car.transmission}}</b> - Type : <b>{{car.type}}</b> - Year : <b>{{car.year | date: 'yyyy'}}</b>
            </h5>
            <hr>
            <div style="float: right;">
                <button style="margin-left: 10px;" nzSize="small" nz-button nzType="primary"
                        routerLink="/customer/book/{{car.id}}">Book a visit</button>
            </div>
        </div>
    </div>
</div>